{"version":3,"sources":["components/Header.js","images/filler.jpg","components/Image.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ConfirmPopup.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/RenderLoading.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","target","Image","src","alt","onClick","useState","isLoadError","setIsLoadError","useEffect","filler","onError","CurrentUserContext","React","createContext","Card","getCard","card","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","likeOnCard","cardLikeButtonClassName","cardDeleteButtonClassName","type","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","onCardClick","cards","avatar","about","map","Footer","currentDate","Date","getFullYear","PopupWithForm","title","submitButtonText","isOpen","onClose","onSubmit","children","isValidity","noValidate","disabled","ConfirmPopup","onDeleteCard","isLoading","evt","preventDefault","ImagePopup","validators","userName","required","value","minLength","maxLength","description","EditProfilePopup","onUpdateUser","formValues","setFormValues","errors","setErrors","undefined","handleInputChange","useCallback","state","userNameValidationRusult","Object","keys","errorKey","errorResult","reduce","acc","element","descriptionValidationRusult","isUserNameInvalid","values","Boolean","isDescriptionInvalid","isSubmitDisabled","id","onChange","EditAvatarPopup","onUpdateAvatar","avatarValue","useRef","current","placeholder","ref","cardName","cardLink","url","test","AddPlacePopup","cardNameValidationRusult","cardLinkValidationRusult","isСardNameInvalid","isСardLinkInvalid","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","method","then","res","ok","json","Promise","reject","status","all","getCards","getUserInfo","body","JSON","stringify","cardId","hasLike","avatarUrl","authorization","RenderLoading","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","dataLoading","setDataLoading","isLoadingProfileInfo","setIsLoadingProfileInfo","isLoadingCardAdd","setIsLoadingCardAdd","isLoadingProfileAvatar","setIsLoadingProfileAvatar","isLoadingConfirm","setIsLoadingConfirm","currentDeletionCard","setCurrentDeletionCard","closeAllPopups","getInitialData","data","userInfo","catch","error","console","log","Provider","toggleCardLike","newCard","oldCard","userObj","setUserInfo","createCard","deleteCard","oldCards","filter","avatarObj","updateAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yLAQeA,MARf,WACE,OACE,wBAAQC,UAAU,SAAlB,SACE,mBAAGC,KAAK,IAAIC,OAAO,QAAQF,UAAU,oBCH5B,MAA0B,mCCuB1BG,MApBf,YAAkD,IAAjCC,EAAgC,EAAhCA,IAAKC,EAA2B,EAA3BA,IAAKC,EAAsB,EAAtBA,QAASN,EAAa,EAAbA,UAAa,EACTO,oBAAS,GADA,mBACxCC,EADwC,KAC3BC,EAD2B,KAS/C,OANAC,qBAAU,kBAAMD,GAAe,KAAQ,CAACL,IAOtC,qBACEE,QAASA,EACTF,IAAKI,EAAcG,EAASP,EAC5BC,IAAG,oCAAWA,GAAY,IAC1BL,UAAWA,EACXY,QAVJ,WACEH,GAAe,OCPNI,EAAqBC,IAAMC,gBCwDzBC,MAtDf,YAA4D,IAA5CC,EAA2C,EAA3CA,QAASC,EAAkC,EAAlCA,KAAMC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aACnCC,EAAcC,qBAAWT,GAGzBU,EAAQL,EAAKM,MAAMC,MAAQJ,EAAYI,IACvCC,EAAUR,EAAKS,MAAMC,MACzB,SAACC,GAAD,OAAgBA,EAAWJ,MAAQJ,EAAYI,OAG3CK,EAAuB,6BACzBJ,GAAW,wBACTK,EAAyB,qCAC3BR,GAAS,iCAcb,OACE,qBAAIvB,UAAU,UAAd,UACE,wBACEM,QAPN,WACEc,EAAaF,IAOTc,KAAK,SACLhC,UAAW+B,IAEb,cAAC,EAAD,CACE3B,IAAKc,EAAKe,KACV5B,IAAKa,EAAKgB,KACVlC,UAAU,iBACVM,QAvBN,WACEW,EAAQC,MAwBN,sBAAKlB,UAAU,qBAAf,UACE,qBAAIA,UAAU,iBAAd,cAAiCkB,EAAKgB,KAAtC,OACA,sBAAKlC,UAAU,sBAAf,UACE,wBACEM,QAzBV,WACEa,EAAWD,IAyBHc,KAAK,SACLhC,UAAW8B,IAEb,qBAAI9B,UAAU,wBAAd,cAAwCkB,EAAKS,MAAMQ,OAAnD,iBCaKC,MA5Df,YAQI,IAPFC,EAOC,EAPDA,cACAC,EAMC,EANDA,WACAC,EAKC,EALDA,aACAC,EAIC,EAJDA,YACAC,EAGC,EAHDA,MACAtB,EAEC,EAFDA,WACAC,EACC,EADDA,aAEMC,EAAcC,qBAAWT,GAE/B,OACE,uBAAMb,UAAU,OAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,qBAAf,UACE,mBACEM,QAASiC,EACTrC,OAAO,QACPD,KAAK,IACLD,UAAU,iBAJZ,SAME,qBACEK,IAAG,wHAAyBgB,EAAYa,MACxC9B,IAAKiB,EAAYqB,OACjB1C,UAAU,sBAGd,sBAAKA,UAAU,gBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BqB,EAAYa,OAC3C,wBACE5B,QAAS+B,EACTL,KAAK,SACLhC,UAAU,yBAEZ,mBAAGA,UAAU,kBAAb,SAAgCqB,EAAYsB,cAGhD,wBACErC,QAASgC,EACTN,KAAK,SACLhC,UAAU,2BAGd,kCACE,oBAAIA,UAAU,WAAd,SACGyC,EAAMG,KAAI,SAAC1B,GAAD,OACT,cAAC,EAAD,CACEE,aAAcA,EACdD,WAAYA,EACZF,QAASuB,EACTtB,KAAMA,GACDA,EAAKO,gBC3CToB,MAZf,WACE,IAAMC,EAAc,IAAIC,KAExB,OACE,wBAAQ/C,UAAU,SAAlB,SACE,oBAAGA,UAAU,oBAAb,kBACU8C,EAAYE,cADtB,8BCkCSC,MAvCf,YASI,IARFf,EAQC,EARDA,KACAgB,EAOC,EAPDA,MACAC,EAMC,EANDA,iBACAC,EAKC,EALDA,OACAC,EAIC,EAJDA,QACAC,EAGC,EAHDA,SACAC,EAEC,EAFDA,SACAC,EACC,EADDA,WAEA,OACE,yBAASxD,UAAS,gBAAWoD,GAAU,gBAAvC,SACE,sBAAKpD,UAAU,mBAAf,UACE,wBACEM,QAAS+C,EACTrB,KAAK,SACLhC,UAAU,wBAEZ,oBAAIA,UAAU,eAAd,SAA8BkD,IAC9B,uBACEI,SAAUA,EACVG,YAAU,EACVvB,KAAI,eAAUA,GACdlC,UAAU,OAJZ,UAMGuD,EACD,wBACEG,SAAUF,EACVxB,KAAK,SACLhC,UAAS,uBAAkBwD,GAAc,yBAH3C,SAKGL,aCVEQ,MAnBf,YAA2E,IAAnDP,EAAkD,EAAlDA,OAAQC,EAA0C,EAA1CA,QAASO,EAAiC,EAAjCA,aAAc1C,EAAmB,EAAnBA,KAAM2C,EAAa,EAAbA,UAO3D,OACE,cAAC,EAAD,CACE3B,KAAK,iBACLgB,MAAM,2DACNC,iBAAkBU,EAAY,sDAAgB,eAC9CT,OAAQA,EACRC,QAASA,EACTC,SAbiB,SAACQ,GACpBA,EAAIC,iBAEJH,EAAa1C,OCgBF8C,MApBf,YAAwC,IAAlB9C,EAAiB,EAAjBA,KAAMmC,EAAW,EAAXA,QAC1B,OACE,yBAASrD,UAAS,gBAAWkB,GAAQ,gBAArC,SACE,sBAAKlB,UAAU,oBAAf,UACE,wBACEM,QAAS+C,EACTrB,KAAK,SACLhC,UAAU,wBAEZ,cAAC,EAAD,CACEI,IAAKc,GAAQA,EAAKe,KAClB5B,IAAKa,GAAQA,EAAKgB,KAClBlC,UAAU,iBAEZ,qBAAIA,UAAU,0BAAd,cAA0CkB,GAAQA,EAAKgB,KAAvD,a,cCZF+B,EAAa,CACjBC,SAAU,CACRC,SAAU,SAACC,GAAD,MAAqB,KAAVA,GACrBC,UAAW,SAACD,GAAD,OAAWA,EAAMjC,OAAS,GACrCmC,UAAW,SAACF,GAAD,OAAWA,EAAMjC,OAAS,KAEvCoC,YAAa,CACXJ,SAAU,SAACC,GAAD,MAAqB,KAAVA,GACrBC,UAAW,SAACD,GAAD,OAAWA,EAAMjC,OAAS,GACrCmC,UAAW,SAACF,GAAD,OAAWA,EAAMjC,OAAS,OAoK1BqC,MAhKf,YAAyE,IAA7CpB,EAA4C,EAA5CA,OAAQC,EAAoC,EAApCA,QAASoB,EAA2B,EAA3BA,aAAcZ,EAAa,EAAbA,UACnDxC,EAAcC,qBAAWT,GADuC,EAGlCN,mBAAS,CAC3C2D,SAAU,GACVK,YAAa,KALuD,mBAG/DG,EAH+D,KAGnDC,EAHmD,OAQ1CpE,mBAAS,CACnC2D,SAAU,CACRC,UAAU,EACVE,WAAW,EACXC,WAAW,GAEbC,YAAa,CACXJ,UAAU,EACVE,WAAW,EACXC,WAAW,KAjBuD,mBAQ/DM,EAR+D,KAQvDC,EARuD,KAqBtEnE,qBAAU,gBACiBoE,IAArBzD,EAAYa,WAA4C4C,IAAtBzD,EAAYsB,OAChDgC,EAAc,CACZT,SAAU7C,EAAYa,KACtBqC,YAAalD,EAAYsB,UAG5B,CAACS,IAEJ,IASM2B,EAAoBC,uBACxB,SAAClB,GAAS,IAAD,EACiBA,EAAI5D,OAApBgC,EADD,EACCA,KAAMkC,EADP,EACOA,MACdO,GAAc,SAACM,GAAD,mBAAC,eAAgBA,GAAjB,kBAAyB/C,EAAOkC,SAEhD,CAACO,IAGHjE,qBACE,WAA2B,IACjBwD,EAA0BQ,EAA1BR,SAAUK,EAAgBG,EAAhBH,YAEZW,EAA2BC,OAAOC,KAAKnB,EAAWC,UACrDtB,KAAI,SAACyC,GACJ,IAAMC,EAAcrB,EAAWC,SAASmB,GAAUnB,GAClD,OAAO,eAAGmB,EAAWC,MAEtBC,QAAO,SAACC,EAAKC,GAAN,mBAAC,eAAuBD,GAAQC,KAAY,IAEhDC,EAA8BP,OAAOC,KAAKnB,EAAWM,aACxD3B,KAAI,SAACyC,GACJ,IAAMC,EAAcrB,EAAWM,YAAYc,GAAUd,GACrD,OAAO,eAAGc,EAAWC,MAEtBC,QAAO,SAACC,EAAKC,GAAN,mBAAC,eAAuBD,GAAQC,KAAY,IAEtDZ,EAAU,CACRX,SAAUgB,EACVX,YAAamB,MAGjB,CAAChB,EAAYG,IAtEuD,IAyE9DX,EAA0BQ,EAA1BR,SAAUK,EAAgBG,EAAhBH,YACZoB,EAAoBR,OAAOS,OAAOhB,EAAOV,UAAUtC,KAAKiE,SACxDC,EAAuBX,OAAOS,OAAOhB,EAAOL,aAAa3C,KAAKiE,SAC9DE,EAAmBJ,GAAqBG,EAE9C,OACE,cAAC,EAAD,CACE5D,KAAK,eACLgB,MAAM,4HACNC,iBAAkBU,EAAY,kEAAkB,yDAChDT,OAAQA,EACRC,QAASA,EACTC,SAvDiB,SAACQ,GACpBA,EAAIC,iBAEJU,EAAa,CACXvC,KAAMgC,EACNvB,MAAO4B,KAmDPf,WAAYuC,EAPd,SASE,2BAAU/F,UAAU,eAApB,UACE,wBAAOA,UAAU,QAAjB,UACE,uBACEgC,KAAK,OACLhC,UAAS,uBACN4E,EAAOV,SAASC,UACfS,EAAOV,SAASI,WAChBM,EAAOV,SAASG,YAClB,0BAEFnC,KAAK,WACLiC,UAAQ,EACRE,UAAU,IACVC,UAAU,KACV0B,GAAG,qBACH5B,MAAOF,EACP+B,SAAUlB,IAEZ,uBACE/E,UAAS,uBACN4E,EAAOV,SAASC,UACfS,EAAOV,SAASI,WAChBM,EAAOV,SAASG,YAClB,uBALJ,UAQGO,EAAOV,SAASC,UAAYS,EAAOV,SAASG,UACzCO,EAAOV,SAASC,SACd,8KACA,iLACF,GACHS,EAAOV,SAASI,WAAa,mJAGlC,wBAAOtE,UAAU,QAAjB,UACE,uBACEgC,KAAK,OACLhC,UAAS,uBACN4E,EAAOL,YAAYJ,UAClBS,EAAOL,YAAYD,WACnBM,EAAOL,YAAYF,YACrB,0BAEFnC,KAAK,cACLiC,UAAQ,EACRE,UAAU,IACVC,UAAU,MACV0B,GAAG,uBACH5B,MAAOG,EACP0B,SAAUlB,IAEZ,uBACE/E,UAAS,uBACN4E,EAAOL,YAAYJ,UAClBS,EAAOL,YAAYD,WACnBM,EAAOL,YAAYF,YACrB,uBALJ,UAQGO,EAAOL,YAAYJ,UAAYS,EAAOL,YAAYF,UAC/CO,EAAOL,YAAYJ,SACjB,8KACA,iLACF,GACHS,EAAOL,YAAYD,WAAa,0JC9H9B4B,MAxCf,YAA0E,IAA/C9C,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,QAAS8C,EAA6B,EAA7BA,eAAgBtC,EAAa,EAAbA,UACpDuC,EAAcC,mBAYpB,OAVA3F,qBAAU,cAAU,CAACyF,IAWnB,cAAC,EAAD,CACEjE,KAAK,gBACLgB,MAAM,wFACNC,iBAAkBU,EAAY,kEAAkB,yDAChDT,OAAQA,EACRC,QAASA,EACTC,SAfJ,SAAsBQ,GACpBA,EAAIC,iBAEJoC,EAAe,CACbzD,OAAQ0D,EAAYE,QAAQlC,SAK9B,SAQE,0BAAUpE,UAAU,eAApB,SACE,wBAAOA,UAAU,QAAjB,UACE,uBACEgC,KAAK,MACLuE,YAAY,iHACZvG,UAAU,4CACVkC,KAAK,aACLiC,UAAQ,EACR6B,GAAG,oBACHQ,IAAKJ,IAEP,sBAAMpG,UAAU,gDCjCpBiE,EAAa,CACjBwC,SAAU,CACRtC,SAAU,SAACC,GAAD,MAAqB,KAAVA,GACrBC,UAAW,SAACD,GAAD,OAAWA,EAAMjC,OAAS,GACrCmC,UAAW,SAACF,GAAD,OAAWA,EAAMjC,OAAS,KAEvCuE,SAAU,CACRvC,SAAU,SAACC,GAAD,MAAqB,KAAVA,GACrBuC,IAAK,SAACvC,GAAD,MAAW,gCAAgCwC,KAAKxC,MA4J1CyC,MAxJf,YAAoE,IAA3CzD,EAA0C,EAA1CA,OAAQC,EAAkC,EAAlCA,QAASf,EAAyB,EAAzBA,WAAYuB,EAAa,EAAbA,UAAa,EAC7BtD,mBAAS,CAC3CkG,SAAU,GACVC,SAAU,KAHqD,mBAC1DhC,EAD0D,KAC9CC,EAD8C,OAMrCpE,mBAAS,CACnCkG,SAAU,CACRtC,UAAU,EACVE,WAAW,EACXC,WAAW,GAEboC,SAAU,CACRvC,UAAU,EACVwC,KAAK,KAdwD,mBAM1D/B,EAN0D,KAMlDC,EANkD,KAkBjEnE,qBAAU,WACRiE,EAAc,CACZ8B,SAAU,GACVC,SAAU,OAEX,CAACtD,IAEJ,IASM2B,EAAoBC,uBACxB,SAAClB,GAAS,IAAD,EACiBA,EAAI5D,OAApBgC,EADD,EACCA,KAAMkC,EADP,EACOA,MACdO,GAAc,SAACM,GAAD,mBAAC,eAAgBA,GAAjB,kBAAyB/C,EAAOkC,SAEhD,CAACO,IAGHjE,qBACE,WAA2B,IACjB+F,EAAuB/B,EAAvB+B,SAAUC,EAAahC,EAAbgC,SAEZI,EAA2B3B,OAAOC,KAAKnB,EAAWwC,UACrD7D,KAAI,SAACyC,GACJ,IAAMC,EAAcrB,EAAWwC,SAASpB,GAAUoB,GAClD,OAAO,eAAGpB,EAAWC,MAEtBC,QAAO,SAACC,EAAKC,GAAN,mBAAC,eAAuBD,GAAQC,KAAY,IAEhDsB,EAA2B5B,OAAOC,KAAKnB,EAAWyC,UACrD9D,KAAI,SAACyC,GACJ,IAAMC,EAAcrB,EAAWyC,SAASrB,GAAUqB,GAClD,OAAO,eAAGrB,EAAWC,MAEtBC,QAAO,SAACC,EAAKC,GAAN,mBAAC,eAAuBD,GAAQC,KAAY,IAEtDZ,EAAU,CACR4B,SAAUK,EACVJ,SAAUK,MAGd,CAACrC,EAAYG,IAjEkD,IAoEzD4B,EAAuB/B,EAAvB+B,SAAUC,EAAahC,EAAbgC,SACZM,EAAoB7B,OAAOS,OAAOhB,EAAO6B,UAAU7E,KAAKiE,SACxDoB,EAAoB9B,OAAOS,OAAOhB,EAAO8B,UAAU9E,KAAKiE,SACxDE,EAAmBiB,GAAqBC,EAE9C,OACE,cAAC,EAAD,CACE/E,KAAK,WACLgB,MAAM,gEACNC,iBAAkBU,EAAY,kEAAkB,mDAChDT,OAAQA,EACRC,QAASA,EACTC,SAvDiB,SAACQ,GACpBA,EAAIC,iBAEJzB,EAAW,CACTJ,KAAMuE,EACNxE,KAAMyE,KAmDNlD,WAAYuC,EAPd,SASE,2BAAU/F,UAAU,eAApB,UACE,wBAAOA,UAAU,QAAjB,UACE,uBACEgC,KAAK,OACLuE,YAAY,mDACZvG,UAAS,uBACN4E,EAAO6B,SAAStC,UACfS,EAAO6B,SAASnC,WAChBM,EAAO6B,SAASpC,YAClB,0BAEFnC,KAAK,WACLiC,UAAQ,EACRE,UAAU,IACVC,UAAU,KACV0B,GAAG,kBACH5B,MAAOqC,EACPR,SAAUlB,IAEZ,uBACE/E,UAAS,uBACN4E,EAAO6B,SAAStC,UACfS,EAAO6B,SAASnC,WAChBM,EAAO6B,SAASpC,YAClB,uBALJ,UAQG,IACAO,EAAO6B,SAAStC,UAAYS,EAAO6B,SAASpC,UACzCO,EAAO6B,SAAStC,SACd,8KACA,iLACF,GACHS,EAAO6B,SAASnC,WAAa,mJAGlC,wBAAOtE,UAAU,QAAjB,UACE,uBACEgC,KAAK,MACLuE,YAAY,qGACZvG,UAAS,uBACN4E,EAAO8B,SAASvC,WAAaS,EAAO8B,SAASC,MAC9C,0BAEFzE,KAAK,WACLiC,UAAQ,EACR6B,GAAG,kBACH5B,MAAOsC,EACPT,SAAUlB,IAEZ,uBACE/E,UAAS,uBACN4E,EAAO8B,SAASvC,WAAaS,EAAO8B,SAASC,MAC9C,uBAHJ,UAMG,IACA/B,EAAO8B,SAASvC,WAAaS,EAAO8B,SAASC,IAC1C/B,EAAO8B,SAASvC,SACd,8KACA,iDACF,e,gBCpCD+C,EATH,I,WAjHV,WAAYC,GAAU,oBACpBC,KAAKC,SAAWF,EAAQG,QACxBF,KAAKG,SAAWJ,EAAQK,Q,4CAI1B,WACE,OAAOC,MAAM,GAAD,OAAIL,KAAKC,SAAT,UAA2B,CACrCK,OAAQ,MACRF,QAASJ,KAAKG,WACbI,MAAK,SAACC,GACP,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,yBAKzC,WACE,OAAOR,MAAM,GAAD,OAAIL,KAAKC,SAAT,aAA8B,CACxCK,OAAQ,MACRF,QAASJ,KAAKG,WACbI,MAAK,SAACC,GACP,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,4BAIzC,WACE,OAAOF,QAAQG,IAAI,CAACd,KAAKe,WAAYf,KAAKgB,kB,yBAI5C,SAAYlG,EAAM+F,GAChB,OAAOR,MAAM,GAAD,OAAIL,KAAKC,SAAT,aAA8B,CACxCK,OAAQ,QACRF,QAASJ,KAAKG,SACdc,KAAMC,KAAKC,UAAU,CACnBrG,KAAMA,EACNS,MAAOsF,MAERN,MAAK,SAACC,GACP,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,wBAKzC,SAAW/F,EAAMD,GACf,OAAOwF,MAAM,GAAD,OAAIL,KAAKC,SAAT,UAA2B,CACrCK,OAAQ,OACRF,QAASJ,KAAKG,SACdc,KAAMC,KAAKC,UAAU,CACnBrG,KAAMA,EACND,KAAMA,MAEP0F,MAAK,SAACC,GACP,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,wBAKzC,SAAWO,GACT,OAAOf,MAAM,GAAD,OAAIL,KAAKC,SAAT,kBAA2BmB,GAAU,CAC/Cd,OAAQ,SACRF,QAASJ,KAAKG,WACbI,MAAK,SAACC,GACP,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,4BAKzC,SAAeO,EAAQC,GACrB,OAAOhB,MAAM,GAAD,OAAIL,KAAKC,SAAT,wBAAiCmB,GAAU,CACrDd,OAAQe,EAAU,SAAW,MAC7BjB,QAASJ,KAAKG,WACbI,MAAK,SAACC,GACP,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,0BAKzC,SAAaS,GACX,OAAOjB,MAAM,GAAD,OAAIL,KAAKC,SAAT,oBAAqC,CAC/CK,OAAQ,QACRF,QAASJ,KAAKG,SACdc,KAAMC,KAAKC,UAAU,CACnB7F,OAAQgG,MAETf,MAAK,SAACC,GACP,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,gB,KAM/B,CAAQ,CAClBX,QAAS,8CACTE,QAAS,CAEPmB,cAAe,uCACf,eAAgB,sBC1GLC,MAbf,WACE,OACE,qBAAK5I,UAAU,cAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,qBAAKA,UAAU,uBACf,qBAAKA,UAAU,uBACf,qBAAKA,UAAU,uBACf,qBAAKA,UAAU,6BC8LR6I,MAvLf,WAAgB,IAAD,EAC+CtI,oBAAS,GADxD,mBACNuI,EADM,KACkBC,EADlB,OAEyCxI,oBAAS,GAFlD,mBAENyI,EAFM,KAEeC,EAFf,OAG6C1I,oBAAS,GAHtD,mBAGN2I,EAHM,KAGiBC,EAHjB,OAIuC5I,oBAAS,GAJhD,mBAIN6I,EAJM,KAIcC,EAJd,OAK2B9I,mBAAS,MALpC,mBAKN+I,EALM,KAKQC,EALR,OAMyBhJ,mBAAS,IANlC,mBAMNc,EANM,KAMOmI,EANP,OAOajJ,mBAAS,IAPtB,mBAONkC,EAPM,KAOCgH,EAPD,OAQyBlJ,oBAAS,GARlC,mBAQNmJ,EARM,KAQOC,EARP,OAS2CpJ,oBAAS,GATpD,mBASNqJ,EATM,KASgBC,EAThB,OAUmCtJ,oBAAS,GAV5C,mBAUNuJ,EAVM,KAUYC,GAVZ,QAW+CxJ,oBAAS,GAXxD,qBAWNyJ,GAXM,MAWkBC,GAXlB,SAYmC1J,oBAAS,GAZ5C,qBAYN2J,GAZM,MAYYC,GAZZ,SAayC5J,mBAAS,MAblD,qBAaN6J,GAbM,MAaeC,GAbf,MA8Hb,SAASC,KACPnB,GAAyB,GACzBJ,GAA0B,GAC1BE,GAAuB,GACvBI,GAAsB,GACtBE,EAAgB,MAGlB,OAtHA7I,qBAAU,WACRwG,EACGqD,iBACA5C,MAAK,SAAC6C,GAAU,IAAD,cACYA,EADZ,GACP/H,EADO,KACAgI,EADA,KAEdd,GAAe,GACfF,EAAShH,GACT+G,EAAeiB,MAEhBC,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEf,IA2GD,qBAAK3K,UAAU,OAAf,SACG0J,EACC,cAAC,EAAD,IAEA,eAAC7I,EAAmBiK,SAApB,CAA6B1G,MAAO/C,EAApC,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CACEoB,MAAOA,EACPtB,WAjHV,SAAwBD,GACtB,IAAMQ,EAAUR,EAAKS,MAAMC,MACzB,SAACC,GAAD,OAAgBA,EAAWJ,MAAQJ,EAAYI,OAGjDyF,EACG6D,eAAe7J,EAAKO,IAAKC,GACzBiG,MAAK,SAACqD,GACLvB,GAAS,SAACxE,GAAD,OACPA,EAAMrC,KAAI,SAACqI,GAAD,OAAcA,EAAQxJ,MAAQP,EAAKO,IAAMuJ,EAAUC,WAGhEP,OAAM,SAACC,GACNC,QAAQC,IAAIF,OAqGRvJ,aAjGV,SAA0BF,GACxBmJ,GAAuBnJ,GACvBmI,GAAsB,IAgGdhH,cA/BV,WACE0G,GAA0B,IA+BlBzG,WA5BV,WACE2G,GAAuB,IA4Bf1G,aArCV,WACE4G,GAAyB,IAqCjB3G,YA1BV,SAAyB8G,GACvBC,EAAgBD,MA2BV,cAAC,EAAD,IACA,cAAC,EAAD,CACEzF,UAAW+F,EACXnF,aAvEe,SAACyG,GACxBrB,GAAwB,GACxB3C,EACGiE,YAAYD,EAAQhJ,KAAMgJ,EAAQvI,OAClCgF,MAAK,SAACC,GACL4B,EAAe5B,GACf0C,KACAT,GAAwB,MAEzBa,OAAM,SAACC,GACNC,QAAQC,IAAIF,OA8DRvH,OAAQ0F,EACRzF,QAASiH,KAEX,cAAC,EAAD,CACEzG,UAAWiG,EACX1G,OAAQ4F,EACR1G,WA5FmB,SAAC0I,GAC5BjB,IAAoB,GACpB7C,EACGkE,WAAWJ,EAAQ9I,KAAM8I,EAAQ/I,MACjC0F,MAAK,SAACC,GACL6B,EAAS,CAAC7B,GAAF,mBAAUnF,KAClB6H,KACAP,IAAoB,MAErBW,OAAM,SAACC,GACNC,QAAQC,IAAIF,OAmFRtH,QAASiH,KAEX,cAAC,EAAD,CACElH,OAAQgG,EACRlI,KAAMkJ,GACNxG,aAlHV,SAA6B1C,GAC3BiJ,IAAoB,GACpBjD,EACGmE,WAAWnK,EAAKO,KAChBkG,MAAK,WACJ8B,GAAS,SAAC6B,GAAD,OACPA,EAASC,QAAO,SAACN,GAAD,OAAaA,EAAQxJ,MAAQP,EAAKO,UAEpD6I,KACAH,IAAoB,MAErBO,OAAM,SAACC,GACNC,QAAQC,IAAIF,OAuGRtH,QAASiH,GACTzG,UAAWqG,KAEb,cAAC,EAAD,CAAYhJ,KAAMoI,EAAcjG,QAASiH,KACzC,cAAC,EAAD,CACEzG,UAAWmG,GACX5G,OAAQ8F,EACR/C,eA9EiB,SAACqF,GAC1BvB,IAA0B,GAC1B/C,EACGuE,aAAaD,EAAU9I,QACvBiF,MAAK,SAACC,GACL4B,EAAe5B,GACf0C,KACAL,IAA0B,MAE3BS,OAAM,SAACC,GACNC,QAAQC,IAAIF,OAqERtH,QAASiH,WCjLNoB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBjE,MAAK,YAAkD,IAA/CkE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.4ef211d7.chunk.js","sourcesContent":["function Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <a href=\"#\" target=\"_self\" className=\"header__logo\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/filler.6c929a1e.jpg\";","import { useState, useEffect } from 'react';\r\nimport filler from '../images/filler.jpg';\r\n\r\nfunction Image({ src, alt, onClick, className }) {\r\n  const [isLoadError, setIsLoadError] = useState(false);\r\n\r\n  useEffect(() => setIsLoadError(false), [src]);\r\n\r\n  function handleLoadError() {\r\n    setIsLoadError(true);\r\n  }\r\n\r\n  return (\r\n    <img\r\n      onClick={onClick}\r\n      src={isLoadError ? filler : src}\r\n      alt={`Фото: ${alt ? alt : ''}`}\r\n      className={className}\r\n      onError={handleLoadError}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Image;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import { useContext } from 'react';\r\nimport Image from './Image';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ getCard, card, onCardLike, onCardDelete }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some(\r\n    (likeOnCard) => likeOnCard._id === currentUser._id\r\n  );\r\n\r\n  const cardLikeButtonClassName = `element__like\r\n    ${isLiked && 'element__like_active'}`;\r\n  const cardDeleteButtonClassName = `element__trash-button\r\n    ${isOwn && 'element__trash-button_visible'}`;\r\n\r\n  function handleClickImage() {\r\n    getCard(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <button\r\n        onClick={handleDeleteClick}\r\n        type=\"button\"\r\n        className={cardDeleteButtonClassName}\r\n      />\r\n      <Image\r\n        src={card.link}\r\n        alt={card.name}\r\n        className=\"element__image\"\r\n        onClick={handleClickImage}\r\n      />\r\n      <div className=\"element__container\">\r\n        <h2 className=\"element__title\"> {card.name} </h2>\r\n        <div className=\"element__like-group\">\r\n          <button\r\n            onClick={handleLikeClick}\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n          />\r\n          <h3 className=\"element__like-counter\"> {card.likes.length} </h3>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import { useContext } from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  onCardClick,\r\n  cards,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__container\">\r\n          <a\r\n            onClick={onEditAvatar}\r\n            target=\"_self\"\r\n            href=\"#\"\r\n            className=\"profile__cover\"\r\n          >\r\n            <img\r\n              alt={`Аватар пользователя ${currentUser.name}`}\r\n              src={currentUser.avatar}\r\n              className=\"profile__avatar\"\r\n            />\r\n          </a>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button\r\n              onClick={onEditProfile}\r\n              type=\"button\"\r\n              className=\"profile__button-edit\"\r\n            />\r\n            <p className=\"profile__status\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          onClick={onAddPlace}\r\n          type=\"button\"\r\n          className=\"profile__button-add\"\r\n        />\r\n      </section>\r\n      <section>\r\n        <ul className=\"elements\">\r\n          {cards.map((card) => (\r\n            <Card\r\n              onCardDelete={onCardDelete}\r\n              onCardLike={onCardLike}\r\n              getCard={onCardClick}\r\n              card={card}\r\n              key={card._id}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  const currentDate = new Date();\r\n\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">\r\n        &copy; {currentDate.getFullYear()}. Mesto-React, Russia\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function PopupWithForm({\r\n  name,\r\n  title,\r\n  submitButtonText,\r\n  isOpen,\r\n  onClose,\r\n  onSubmit,\r\n  children,\r\n  isValidity,\r\n}) {\r\n  return (\r\n    <section className={`popup ${isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__container\">\r\n        <button\r\n          onClick={onClose}\r\n          type=\"button\"\r\n          className=\"popup__button-close\"\r\n        />\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form\r\n          onSubmit={onSubmit}\r\n          noValidate\r\n          name={`form-${name}`}\r\n          className=\"form\"\r\n        >\r\n          {children}\r\n          <button\r\n            disabled={isValidity}\r\n            type=\"submit\"\r\n            className={`form__button ${isValidity && 'form__button_disabled'}`}\r\n          >\r\n            {submitButtonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmPopup({ isOpen, onClose, onDeleteCard, card, isLoading }) {\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n\r\n    onDeleteCard(card);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"delete-confirm\"\r\n      title=\"Вы уверены?\"\r\n      submitButtonText={isLoading ? 'Удаление...' : 'Да'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ConfirmPopup;\r\n","import Image from './Image';\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n  return (\r\n    <section className={`popup ${card && 'popup_opened'}`}>\r\n      <div className=\"popup__zoom-image\">\r\n        <button\r\n          onClick={onClose}\r\n          type=\"button\"\r\n          className=\"popup__button-close\"\r\n        />\r\n        <Image\r\n          src={card && card.link}\r\n          alt={card && card.name}\r\n          className=\"popup__image\"\r\n        />\r\n        <h2 className=\"popup__title-zoom-image\"> {card && card.name} </h2>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import { useState, useContext, useEffect, useCallback } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nconst validators = {\r\n  userName: {\r\n    required: (value) => value === '',\r\n    minLength: (value) => value.length < 3,\r\n    maxLength: (value) => value.length > 40,\r\n  },\r\n  description: {\r\n    required: (value) => value === '',\r\n    minLength: (value) => value.length < 3,\r\n    maxLength: (value) => value.length > 100,\r\n  },\r\n};\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const [formValues, setFormValues] = useState({\r\n    userName: '',\r\n    description: '',\r\n  });\r\n\r\n  const [errors, setErrors] = useState({\r\n    userName: {\r\n      required: true,\r\n      minLength: true,\r\n      maxLength: true,\r\n    },\r\n    description: {\r\n      required: true,\r\n      minLength: true,\r\n      maxLength: true,\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (currentUser.name !== undefined && currentUser.about !== undefined) {\r\n      setFormValues({\r\n        userName: currentUser.name,\r\n        description: currentUser.about,\r\n      });\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name: userName,\r\n      about: description,\r\n    });\r\n  };\r\n\r\n  const handleInputChange = useCallback(\r\n    (evt) => {\r\n      const { name, value } = evt.target;\r\n      setFormValues((state) => ({ ...state, [name]: value }));\r\n    },\r\n    [setFormValues]\r\n  );\r\n\r\n  useEffect(\r\n    function validateInputs() {\r\n      const { userName, description } = formValues;\r\n\r\n      const userNameValidationRusult = Object.keys(validators.userName)\r\n        .map((errorKey) => {\r\n          const errorResult = validators.userName[errorKey](userName);\r\n          return { [errorKey]: errorResult };\r\n        })\r\n        .reduce((acc, element) => ({ ...acc, ...element }), {});\r\n\r\n      const descriptionValidationRusult = Object.keys(validators.description)\r\n        .map((errorKey) => {\r\n          const errorResult = validators.description[errorKey](description);\r\n          return { [errorKey]: errorResult };\r\n        })\r\n        .reduce((acc, element) => ({ ...acc, ...element }), {});\r\n\r\n      setErrors({\r\n        userName: userNameValidationRusult,\r\n        description: descriptionValidationRusult,\r\n      });\r\n    },\r\n    [formValues, setErrors]\r\n  );\r\n\r\n  const { userName, description } = formValues;\r\n  const isUserNameInvalid = Object.values(errors.userName).some(Boolean);\r\n  const isDescriptionInvalid = Object.values(errors.description).some(Boolean);\r\n  const isSubmitDisabled = isUserNameInvalid || isDescriptionInvalid;\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile-edit\"\r\n      title=\"Редактировать профиль\"\r\n      submitButtonText={isLoading ? 'Сохранение...' : 'Сохранить'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isValidity={isSubmitDisabled}\r\n    >\r\n      <fieldset className=\"form__fields\">\r\n        <label className=\"label\">\r\n          <input\r\n            type=\"text\"\r\n            className={`form__input ${\r\n              (errors.userName.required ||\r\n                errors.userName.maxLength ||\r\n                errors.userName.minLength) &&\r\n              'form__input_type_error'\r\n            }`}\r\n            name=\"userName\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            id=\"profile-name-input\"\r\n            value={userName}\r\n            onChange={handleInputChange}\r\n          />\r\n          <span\r\n            className={`form__error ${\r\n              (errors.userName.required ||\r\n                errors.userName.maxLength ||\r\n                errors.userName.minLength) &&\r\n              'form__error_visible'\r\n            }`}\r\n          >\r\n            {errors.userName.required || errors.userName.minLength\r\n              ? errors.userName.required\r\n                ? 'Поле обязательно для заполнения'\r\n                : 'Введите фразу не короче 2 символов'\r\n              : ''}\r\n            {errors.userName.maxLength && 'Превышел лимит в 40 символов'}\r\n          </span>\r\n        </label>\r\n        <label className=\"label\">\r\n          <input\r\n            type=\"text\"\r\n            className={`form__input ${\r\n              (errors.description.required ||\r\n                errors.description.maxLength ||\r\n                errors.description.minLength) &&\r\n              'form__input_type_error'\r\n            }`}\r\n            name=\"description\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"100\"\r\n            id=\"profile-status-input\"\r\n            value={description}\r\n            onChange={handleInputChange}\r\n          />\r\n          <span\r\n            className={`form__error ${\r\n              (errors.description.required ||\r\n                errors.description.maxLength ||\r\n                errors.description.minLength) &&\r\n              'form__error_visible'\r\n            }`}\r\n          >\r\n            {errors.description.required || errors.description.minLength\r\n              ? errors.description.required\r\n                ? 'Поле обязательно для заполнения'\r\n                : 'Введите фразу не короче 2 символов'\r\n              : ''}\r\n            {errors.description.maxLength && 'Превышел лимит в 100 символов'}\r\n          </span>\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import { useRef, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\r\n  const avatarValue = useRef();\r\n\r\n  useEffect(() => {}, [onUpdateAvatar]);\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    onUpdateAvatar({\r\n      avatar: avatarValue.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"update-avatar\"\r\n      title=\"Обновить аватар\"\r\n      submitButtonText={isLoading ? 'Сохранение...' : 'Сохранить'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset className=\"form__fields\">\r\n        <label className=\"label\">\r\n          <input\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на фотографию\"\r\n            className=\"form__input form__input_field_avatar-link\"\r\n            name=\"avatarLink\"\r\n            required\r\n            id=\"avatar-link-input\"\r\n            ref={avatarValue}\r\n          />\r\n          <span className=\"form__error avatar-link-input-error\" />\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import { useState, useEffect, useCallback } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nconst validators = {\r\n  cardName: {\r\n    required: (value) => value === '',\r\n    minLength: (value) => value.length < 3,\r\n    maxLength: (value) => value.length > 30,\r\n  },\r\n  cardLink: {\r\n    required: (value) => value === '',\r\n    url: (value) => /^(ftp|http|https):\\/\\/[^ \"]+$/.test(value),\r\n  },\r\n};\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading }) {\r\n  const [formValues, setFormValues] = useState({\r\n    cardName: '',\r\n    cardLink: '',\r\n  });\r\n\r\n  const [errors, setErrors] = useState({\r\n    cardName: {\r\n      required: true,\r\n      minLength: true,\r\n      maxLength: true,\r\n    },\r\n    cardLink: {\r\n      required: true,\r\n      url: true,\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    setFormValues({\r\n      cardName: '',\r\n      cardLink: '',\r\n    });\r\n  }, [isOpen]);\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n\r\n    onAddPlace({\r\n      name: cardName,\r\n      link: cardLink,\r\n    });\r\n  };\r\n\r\n  const handleInputChange = useCallback(\r\n    (evt) => {\r\n      const { name, value } = evt.target;\r\n      setFormValues((state) => ({ ...state, [name]: value }));\r\n    },\r\n    [setFormValues]\r\n  );\r\n\r\n  useEffect(\r\n    function validateInputs() {\r\n      const { cardName, cardLink } = formValues;\r\n\r\n      const cardNameValidationRusult = Object.keys(validators.cardName)\r\n        .map((errorKey) => {\r\n          const errorResult = validators.cardName[errorKey](cardName);\r\n          return { [errorKey]: errorResult };\r\n        })\r\n        .reduce((acc, element) => ({ ...acc, ...element }), {});\r\n\r\n      const cardLinkValidationRusult = Object.keys(validators.cardLink)\r\n        .map((errorKey) => {\r\n          const errorResult = validators.cardLink[errorKey](cardLink);\r\n          return { [errorKey]: errorResult };\r\n        })\r\n        .reduce((acc, element) => ({ ...acc, ...element }), {});\r\n\r\n      setErrors({\r\n        cardName: cardNameValidationRusult,\r\n        cardLink: cardLinkValidationRusult,\r\n      });\r\n    },\r\n    [formValues, setErrors]\r\n  );\r\n\r\n  const { cardName, cardLink } = formValues;\r\n  const isСardNameInvalid = Object.values(errors.cardName).some(Boolean);\r\n  const isСardLinkInvalid = Object.values(errors.cardLink).some(Boolean);\r\n  const isSubmitDisabled = isСardNameInvalid || isСardLinkInvalid;\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"card-add\"\r\n      title=\"Новое место\"\r\n      submitButtonText={isLoading ? 'Добавление...' : 'Добавить'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isValidity={isSubmitDisabled}\r\n    >\r\n      <fieldset className=\"form__fields\">\r\n        <label className=\"label\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Название\"\r\n            className={`form__input ${\r\n              (errors.cardName.required ||\r\n                errors.cardName.maxLength ||\r\n                errors.cardName.minLength) &&\r\n              'form__input_type_error'\r\n            }`}\r\n            name=\"cardName\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"30\"\r\n            id=\"card-name-input\"\r\n            value={cardName}\r\n            onChange={handleInputChange}\r\n          />\r\n          <span\r\n            className={`form__error ${\r\n              (errors.cardName.required ||\r\n                errors.cardName.maxLength ||\r\n                errors.cardName.minLength) &&\r\n              'form__error_visible'\r\n            }`}\r\n          >\r\n            {' '}\r\n            {errors.cardName.required || errors.cardName.minLength\r\n              ? errors.cardName.required\r\n                ? 'Поле обязательно для заполнения'\r\n                : 'Введите фразу не короче 2 символов'\r\n              : ''}\r\n            {errors.cardName.maxLength && 'Превышел лимит в 30 символов'}\r\n          </span>\r\n        </label>\r\n        <label className=\"label\">\r\n          <input\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            className={`form__input ${\r\n              (errors.cardLink.required || !errors.cardLink.url) &&\r\n              'form__input_type_error'\r\n            }`}\r\n            name=\"cardLink\"\r\n            required\r\n            id=\"card-link-input\"\r\n            value={cardLink}\r\n            onChange={handleInputChange}\r\n          />\r\n          <span\r\n            className={`form__error ${\r\n              (errors.cardLink.required || !errors.cardLink.url) &&\r\n              'form__error_visible'\r\n            }`}\r\n          >\r\n            {' '}\r\n            {errors.cardLink.required || !errors.cardLink.url\r\n              ? errors.cardLink.required\r\n                ? 'Поле обязательно для заполнения'\r\n                : 'Введите URL'\r\n              : ''}\r\n          </span>\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  // получаем информацию о карточках\r\n  getCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  // получаем информацию о пользователе\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  getInitialData() {\r\n    return Promise.all([this.getCards(), this.getUserInfo()]);\r\n  }\r\n\r\n  // отправляем информацию о пользователе\r\n  setUserInfo(name, status) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: status,\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  // создаем карточку\r\n  createCard(name, link) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  // удаляем карточку\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  // ставим/убираем лайк\r\n  toggleCardLike(cardId, hasLike) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: hasLike ? 'DELETE' : 'PUT',\r\n      headers: this._headers,\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  // обновляем аватар\r\n  updateAvatar(avatarUrl) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatarUrl,\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n}\r\n\r\n// создаем класс для связи с сервером\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-21',\r\n  headers: {\r\n    // уникальный токен пользователя\r\n    authorization: 'a3ab0050-d01a-4f5a-9bb4-4a039b0aa641',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default api;\r\n","function RenderLoading() {\r\n  return (\r\n    <div className=\"loader-ring\">\r\n      <div className=\"loader-ring__main\">\r\n        <div className=\"loader-ring__child\" />\r\n        <div className=\"loader-ring__child\" />\r\n        <div className=\"loader-ring__child\" />\r\n        <div className=\"loader-ring__child\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RenderLoading;\r\n","import { useState, useEffect } from 'react';\r\nimport '../index.css';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ConfirmPopup from './ConfirmPopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport api from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport RenderLoading from './RenderLoading';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [dataLoading, setDataLoading] = useState(true);\r\n  const [isLoadingProfileInfo, setIsLoadingProfileInfo] = useState(false);\r\n  const [isLoadingCardAdd, setIsLoadingCardAdd] = useState(false);\r\n  const [isLoadingProfileAvatar, setIsLoadingProfileAvatar] = useState(false);\r\n  const [isLoadingConfirm, setIsLoadingConfirm] = useState(false);\r\n  const [currentDeletionCard, setCurrentDeletionCard] = useState(null);\r\n\r\n  // загружаем данные пользователя и карточек\r\n  useEffect(() => {\r\n    api\r\n      .getInitialData()\r\n      .then((data) => {\r\n        const [cards, userInfo] = data;\r\n        setDataLoading(false);\r\n        setCards(cards);\r\n        setCurrentUser(userInfo);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(\r\n      (likeOnCard) => likeOnCard._id === currentUser._id\r\n    );\r\n\r\n    api\r\n      .toggleCardLike(card._id, isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((oldCard) => (oldCard._id === card._id ? newCard : oldCard))\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    setCurrentDeletionCard(card);\r\n    setIsConfirmPopupOpen(true);\r\n  }\r\n\r\n  function handleDeleteConfirm(card) {\r\n    setIsLoadingConfirm(true);\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        setCards((oldCards) =>\r\n          oldCards.filter((oldCard) => oldCard._id !== card._id)\r\n        );\r\n        closeAllPopups();\r\n        setIsLoadingConfirm(false);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  const handleAddPlaceSubmit = (newCard) => {\r\n    setIsLoadingCardAdd(true);\r\n    api\r\n      .createCard(newCard.name, newCard.link)\r\n      .then((res) => {\r\n        setCards([res, ...cards]);\r\n        closeAllPopups();\r\n        setIsLoadingCardAdd(false);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const handleUpdateUser = (userObj) => {\r\n    setIsLoadingProfileInfo(true);\r\n    api\r\n      .setUserInfo(userObj.name, userObj.about)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n        setIsLoadingProfileInfo(false);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const handleUpdateAvatar = (avatarObj) => {\r\n    setIsLoadingProfileAvatar(true);\r\n    api\r\n      .updateAvatar(avatarObj.avatar)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n        setIsLoadingProfileAvatar(false);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(selectedCard) {\r\n    setSelectedCard(selectedCard);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsConfirmPopupOpen(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      {dataLoading ? (\r\n        <RenderLoading />\r\n      ) : (\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n          <Header />\r\n          <Main\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onCardClick={handleCardClick}\r\n          />\r\n          <Footer />\r\n          <EditProfilePopup\r\n            isLoading={isLoadingProfileInfo}\r\n            onUpdateUser={handleUpdateUser}\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n          />\r\n          <AddPlacePopup\r\n            isLoading={isLoadingCardAdd}\r\n            isOpen={isAddPlacePopupOpen}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n            onClose={closeAllPopups}\r\n          />\r\n          <ConfirmPopup\r\n            isOpen={isConfirmPopupOpen}\r\n            card={currentDeletionCard}\r\n            onDeleteCard={handleDeleteConfirm}\r\n            onClose={closeAllPopups}\r\n            isLoading={isLoadingConfirm}\r\n          />\r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n          <EditAvatarPopup\r\n            isLoading={isLoadingProfileAvatar}\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n            onClose={closeAllPopups}\r\n          />\r\n        </CurrentUserContext.Provider>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}